extends loggedin-layout

block inner-content
  .row-fluid
    .span6.offset3.service-new
      h2 Add new service
      form.form-horizontal(action='/services',method='post')
        .alert.alert-error
        .control-group
          label.control-label(for='service-name') Service Name
          .controls
            input.span6(type='text',id='service-name',name='name')
        .control-group
          label.control-label(for='service-authentication-type') Authentication Type
          .controls
            select.span6(id='service-authentication-type',name='authentication.type',value='no')
              option(value='none',selected='selected') No Authentication
              option(value='basic') Basic Authentication
              option(value='oauth') OAuth
        .control-group.authentication-info.key-field
          label.control-label(for='service-key') Key
          .controls
            input.span6(type='text',id='service-key',name='authentication.key')
        .control-group.authentication-info.pass-field
          label.control-label(for='service-pass') Pass
          .controls
            input.span6(type='password',id='service-pass',name='authentication.pass')
        .control-group
          label.control-label(for='service-url') Target
          .controls
            input.span6(type='text',id='service-url',name='target')
        .control-group
          .controls
            input(type='hidden',id='csrf',name='_csrf',value='#{token}')
            ul
              li
                button.btn(type='submit') Add
              li
                button.btn.btn-danger#cancel Cancel

block script
  script(type='text/javascript')
    $(document).ready(function () {
      $('#service-authentication-type').select2();
      new AddServiceView;
    });
  
